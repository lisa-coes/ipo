<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>IPO-es</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/octicons/2.0.2/octicons.min.css">
<link rel="stylesheet" href="github-activity-0.1.5.min.css">

<script src="//code.jquery.com/jquery-1.11.0.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mustache.js/0.7.2/mustache.min.js"></script>
<script type="text/javascript" src="github-activity-0.1.5.min.js"></script>

<script>
GitHubActivity.feed({
	username: "juancarloscastillo",
	repository: "ipo", // optional
	selector: "#feed",
	limit: 20 // optional
});
</script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 66px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h2 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h3 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h4 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h5 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h6 {
  padding-top: 71px;
  margin-top: -71px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">IPO</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="index_es.html">Español</a>
</li>
<li>
  <a href="https://github.com/juancarloscastillo/ipo">
    <span class="fa fa-github fa-lg"></span>
     
    
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->
<div id="particles-js">
  <div id="intro">
    <h1><font size=100px> IPO</font> </h1>
    <h1><font size=10px> Input -> Procesamiento -> Output </font></h1>_
    <p><font size=6> Protocolo para flujo de investigación reproducible </font></p>
</div>
</div>

<script type="text/javascript" src="particles.js"></script>
<script type="text/javascript" src="app.js"></script>

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">IPO-es</h1>

</div>


<div class="mycontent">
<h1 id="ipo-input-procesamiento-output-protocolo-para-flujo-de-investigación-reproducible">IPO (Input-Procesamiento-Output) Protocolo para flujo de investigación reproducible</h1>
<p>Para bajar un ejemplo de la estructura de carpetas click <a href="https://juancarloscastillo.github.io/ipo/IPO_template/IPO-Project_template.tar.gz">aquí</a>.</p>
<p>Comentarios y sugerencias a: <a href="juancastillov@uchile.cl">juancastillov@uchile.cl</a></p>
<hr />
<p>Esta es una plantilla/protocolo de carpetas de proyecto basada en el protocolo <strong>TIER</strong> (Integridad de Enseñanza en Investigación Empírica). TIER “promueve la integración de principios y prácticas relacionadas con la transparencia y la replicabilidad en el entrenamiento en investigación de los científicos sociales”. (más información en <a href="https://www.projecttier.org/">https://www.projecttier.org/</a>).</p>
<p>La implementación de la reproducibilidad en este tipo de protocolos se basa en generar un <strong>conjunto de archivos auto-contenidos</strong> organizado en una estructura de proyecto que cualquier persona pueda compartir y ejecutar. En otras palabras, debe tener todo lo que necesita para ejecutar y volver a ejecutar el análisis.</p>
<p>El protocolo <strong>IPO</strong> sigue la lógica de TIER, pero con algunas innovaciones:</p>
<ul>
<li><p>intenta un modelo fácil de memorizar y relacionado con el flujo de trabajo de análisis (Input-Procesamiento-Output = IPO), donde el procesamiento se refiere a la preparación y análisis de datos.</p></li>
<li><p>agrega una carpeta “Input”, que tiene un alcance más amplio que la carpeta “Datos” original en TIER, pero también otras posibles entradas, como imágenes externas y archivos de bibliografía.</p></li>
<li><p>la carpeta de datos también se simplifica, incluyendo ahora solo una estructura “original” y “procesada”.</p></li>
<li><p>modifica los archivos a .md/.Rmd (archivos Markdown) en lugar de .txt. Markdown es un lenguaje de texto con marcas mínimas de formato que luego se pueden convertir a otros formatos como pdf y / o html (por ejemplo, cuando se usa R / Rmarkdown). Pero, en el fondo, son simples archivos txt con solo otra extensión.</p></li>
</ul>
<h3 id="archivos-y-estructura-de-carpetas">Archivos y estructura de carpetas</h3>
<p>Para descargar un ejemplo de la estructura de carpetas del protocolo, haga click <a href="https://juancarloscastillo.github.io/ipo/IPO_template/IPO-Project_template.tar.gz">aquí</a>.</p>
<p>La estructura se detalla en el siguiente esquema:</p>
<pre><code>├── input: información externa como datos, imágenes, .bib:
|   ├── data:
│     ├── original : archivos de datos originales y metadatos disponibles
│     ├── proc     : archivos de datos procesados
│   ├── imagenes
│   ├── bib: archivos de bibliografía
│   ├── prereg: archivos de pre-registro si están disponibles
|
├── procesamiento:
│   - preparacion.Rmd
│   - analisis.Rmd
│
├── output: tablas, gráficos y otras salidas del procesamiento.
│   ├── graphs
│   ├── tables
|
- readme.md : archivo general de introducción
- paper.md o paper.Rmd / paper.html / paper.pdf: el artículo/paper
</code></pre>
<h3 id="principios-básicos">Principios básicos</h3>
<ul>
<li><p><strong>orden</strong>: trabajar pensando en alguien que no esté familiarizado con el proyecto pueda entenderlo y reproducirlo sin mayores instrucciones que la referencia a este protocolo y otra información que esté en el archivo readme.md. O piense en usted dentro de 5 años: ¿podrá comprender y reproducir esto?</p></li>
<li><p><strong>comentar los códigos</strong>: registrar brevemente los motivos de cualquier decisión</p></li>
<li><p>el código de preparación debería comenzar a cargando los datos originales y terminar guardando los datos procesados en la carpeta correspondiente (proc).</p></li>
</ul>
<p>El flujo de trabajo asociado a estos principios se presenta en el siguiente esquema:</p>
<p><img src="https://multivariada.netlify.app/images/produccion2.png" /></p>
<h3 id="ejemplo">Ejemplo</h3>
<p>Un ejemplo mínimo para probar la implementación del protocolo se puede bajar <a href="https://juancarloscastillo.github.io/ipo/IPO_miniex/IPO_miniex.tar.gz">aquí</a></p>
<h3 id="notas">Notas</h3>
<ul>
<li><p>como el entorno R / Rmarkdown permite combinar texto, análisis y resultados, las carpetas de procesamiento y output pueden resultar redundantes. Este es probablemente el caso de análisis e informes breves. Sin embargo, cuando se trabaja en un proyecto tipo artículo o tesis, es aconsejable separar input, procesamiento y output en aras del orden y la reproducibilidad a pesar de trabajar con Rmarkdown.</p></li>
<li><p>para facilitar el trabajo en Rstudio, es posible que desee hacer de la carpeta del proyecto una carpeta <strong>Rproject</strong>. Esto hará que el directorio de trabajo se remita automáticamente a la raíz, además de activar otras funciones dentro de Rstudio. Para esto, en Rstudio simplemente vaya a Archivo-&gt; Nuevo proyecto-&gt; Directorio existente y apunte a la carpeta del proyecto. Esto creará un archivo con la extensión .Rproj que, al hacer clic, abrirá Rstudio con la carpeta del proyecto como raíz. De esta manera, evita generar directorios de trabajo individuales locales (el comando R <code>setwd</code>), que no facilitan la reproducibilidad. Si se logra entender por qué no se debe referir en el código a un directorio local (como con <code>setwd</code>), entonces está más cerca de entender el sentido de la reproducibilidad.</p></li>
<li><p>además de tener una carpeta de proyecto donde está contenida toda la información, la clave técnica para trabajar dentro de esta estructura es guardar y cargar archivos ubicados en diferentes lugares a través de <strong>rutas relativas</strong> (relative paths), lo que permite conectar diferentes archivos dentro del mismo proyecto/carpeta. Por ejemplo, para cargar un archivo de datos desde la carpeta <code>original</code> desde el código <code>preparacion.Rmd</code>:</p></li>
</ul>
<pre><code>load(&quot;../input/data/original/data.csv&quot;)</code></pre>
<p>Los caracteres <code>../</code> significan “un nivel más arriba” en la estructura de carpetas. En este caso, tomando como referencia una secuencia de comandos dentro de la carpeta <code>procesamiento</code>, debemos subir a la carpeta <code>proyecto</code> o raíz, y desde allí bajar a <code>input/data/original/data.csv</code></p>
<ul>
<li>para guardar tablas y cualquier salida producida en R, utilice la función <code>sink</code>. Por ejemplo, para una tabla descriptiva <code>stargazer</code> de<code>data</code>:</li>
</ul>
<pre><code>sink(&quot;output/tables/table1.txt&quot;)
stargazer(data, )
sink()</code></pre>
<p>El sentido de esto es señalar primero en qué archivo guardar o “hundir” (sink) lo que viene a continuación, y dejar de guardar con <code>sink ()</code></p>
<p>Luego, para llamar el archivo desde paper.Rmd:</p>
<p><code>&lt;div&gt;&lt;object data="output/tables/table1.txt"&gt;&lt;/object&gt;&lt;/div&gt;</code></p>
<ul>
<li>para guardar gráficos, después de producir y ver el gráfico:</li>
</ul>
<pre><code>dev.copy(png,&quot;output/graphs/graph1.png&quot;,width=600,
        height=600); dev.off()</code></pre>
<p>Luego, para llamar al gráfico desde el archivo paper.Rmd:</p>
<pre><code>![](output/graphs/graph1.png)</code></pre>
<h3 id="trabajo-futuro">Trabajo futuro:</h3>
<ul>
<li>IPO-RGit: manteniendo la misma estructura básica, esta versión es una actualización para aprovechar todas las herramientas de reproducibilidad, colaboración y publicación ofrecidas por los entornos de trabajo Rmarkdown / Github. Se puede ver un ejemplo de esta implementación de trabajo en progreso <a href="https://juancarloscastillo.github.io/merit-scale/">aquí.</a></li>
</ul>
<h2 id="github-activity-feed">Github activity feed</h2>
<div id="feed">

</div>
<h1 id="section" class="unnumbered"></h1>
<p><br><br><br></p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
